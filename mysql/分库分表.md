## 分库分表

+ 垂直分表
  - 电商系统拆分为用户库、商品库、dingdanku
  - 用户表拆分为基础信息和扩展信息
+ 水平分表
   - 用户id模运算，分不到不同数据库
   - 订单id模运算，分不到不同表

+ 数据倾斜
    数据分布不均匀


+ 如何保证数据强一致性
  - 分布式事务
    - 2pc
    - tcc
  - 分布式锁

数据库事务+mq   -- 最终一致性确认